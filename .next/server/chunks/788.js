exports.id=788,exports.ids=[788],exports.modules={8670:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2993:(e,t,s)=>{Promise.resolve().then(s.bind(s,8577))},5303:()=>{},9484:(e,t,s)=>{"use strict";s.d(t,{Mx:()=>u,Ry:()=>d,UC:()=>c,is:()=>m,qj:()=>x});var a=s(5815),r=s(2528),l=s.n(r),n=s(6562);let i=(0,a.eI)("https://zaumlpbkxvjttejnxkur.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphdW1scGJreHZqdHRlam54a3VyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk4MTY0NTcsImV4cCI6MjAzNTM5MjQ1N30.WZNW5M-NHQMKQAUIwxBn4wmsm5ddi2odHopgiXtFUxw");async function o(e){try{return await l().hash(e,"$2b$10$abcdefghijklmnopqrstuv")}catch(e){throw Error("Error hashing password")}}async function c(e,t,s){let a=await o(t),{data:r,error:l}=await i.auth.signUp({email:e,password:a,options:{data:{username:s}}});return(await i.from("users").insert({id:r.user.id,username:s,email:e,encrypted_password:a}),l)?(console.error("Error signing up:",l),{error:l}):{data:r}}async function d(e,t){let s=await o(t),{data:a,error:r}=await i.auth.signInWithPassword({email:e,password:s});if(r)return console.error("Error signing in:",r),{error:r};let l=a.user.id,{data:n,error:c}=await i.from("users").select("username").eq("id",l).single();return c?(console.error("Error fetching user info:",c),{error:c}):(a.user.user_metadata={username:n.username},{data:a})}async function u(){let{error:e}=await i.auth.signOut();return e?(console.error("Error signing out:",e),{error:e}):(n.Z.remove("auth-token"),{message:"Successfully signed out"})}async function x(){let{data:e,error:t}=await i.auth.signInWithOAuth({provider:"google"});return t?(console.error("Error signing in with Google:",t),{error:t}):(document.cookie="loggedIn=true; path=/",{data:e})}async function m(){let{data:e,error:t}=await i.auth.getUser();return t?(console.error("Error getting user data:",t),{error:t}):(await i.from("users").insert({id:e.user.id,username:e.user.user_metadata.name,email:e.user.email}),{data:e})}},9040:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(326);function r(){return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"relative w-10 h-10",children:[a.jsx("div",{className:"absolute w-full h-full rounded-full bg-blue-500 opacity-60 animate-ping"}),a.jsx("div",{className:"absolute w-full h-full rounded-full bg-blue-500 opacity-60 animate-ping animation-delay-1000"})]})})}s(7577)},8577:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(326),r=s(5313),l=s.n(r),n=s(7577),i=s(8728),o=s(2843),c=s(434),d=s(5047);function u(){let[e,t]=(0,n.useState)(!1);(0,d.useRouter)();let s=()=>{t(!e)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:`fixed top-0 left-0 h-full flex flex-col bg-gray-800 text-white p-4 transform ${e?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50`,children:[a.jsx("button",{onClick:s,className:"text-white mb-4 self-end",children:"Close"}),a.jsx("div",{className:"text-2xl font-bold mb-4",children:"Mock Logo"}),(0,a.jsxs)("form",{className:"flex items-center mb-4",children:[a.jsx("input",{type:"text",placeholder:"Main Page",className:"p-2 rounded-l-md"}),a.jsx("button",{type:"submit",className:"p-2 bg-blue-500 rounded-r-md",children:"Search"})]}),a.jsx(c.default,{href:"/storage",className:"p-2 bg-blue-500 rounded",children:"Storage"})]}),!e&&a.jsx("button",{onClick:s,className:"p-2 bg-gray-800 text-white rounded fixed top-4 left-4 z-50",children:"â˜°"})]})}var x=s(9484);function m({handleSignUpClick:e,onClose:t}){let[s,r]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),m=(0,d.useRouter)(),{setUser:h}=(0,i.a)(),f=async()=>{let{data:e,error:a}=await (0,x.Ry)(s,l);a?u("Sign in failed: "+a.message):(document.cookie=`auth-token=${e.session.access_token}; path=/`,document.cookie=`refresh-token=${e.session.refresh_token}; path=/; HttpOnly;`,h(e.user),m.push("/"),t(),u("Sign in successful! Welcome back."))};return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Login"}),(0,a.jsxs)("p",{className:"text-gray-400 mb-4",children:["Don't have an account? ",a.jsx("a",{onClick:e,className:"text-orange-500 cursor-pointer",children:"Sign up"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",htmlFor:"email",children:"Email"}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded",children:[a.jsx("span",{className:"inline-block px-3 text-gray-400",children:a.jsx("i",{className:"fas fa-user"})}),a.jsx("input",{className:"w-full p-2 bg-gray-700 text-white rounded-r",type:"email",placeholder:"Email",value:s,onChange:e=>r(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded",children:[a.jsx("span",{className:"inline-block px-3 text-gray-400",children:a.jsx("i",{className:"fas fa-lock"})}),a.jsx("input",{className:"w-full p-2 bg-gray-700 text-white rounded-r",type:"password",placeholder:"Password",value:l,onChange:e=>o(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("label",{className:"flex items-center text-white",children:[a.jsx("input",{type:"checkbox",className:"mr-2"})," Remember me"]}),a.jsx("a",{href:"#",className:"text-orange-500",children:"Forgot Password?"})]}),a.jsx("button",{className:"w-full py-2 text-white rounded",onClick:f,style:{background:"linear-gradient(90deg, #BF4212, #FFB193)",border:"none",cursor:"pointer"},children:"Login"}),c&&a.jsx("p",{className:"text-white m-1 mt-3",children:c}),(0,a.jsxs)("div",{className:"text-center text-white mt-4",children:[a.jsx("button",{className:"bg-blue-500 text-white p-2 m-1 mt-2 rounded-md",onClick:x.qj,children:"Sign in with Google"}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4 mt-2",children:[a.jsx("a",{href:"#",className:"text-white",children:a.jsx("i",{className:"fab fa-facebook"})}),a.jsx("a",{href:"#",className:"text-white",children:a.jsx("i",{className:"fab fa-google"})}),a.jsx("a",{href:"#",className:"text-white",children:a.jsx("i",{className:"fab fa-twitter"})})]})]})]})}function h({isOpen:e,onClose:t,children:s}){return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,a.jsxs)("div",{className:"relative p-6 rounded-lg shadow-lg",style:{border:"2px solid #0ff",boxShadow:"0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff, 0 0 20px #0ff",width:"400px",backgroundColor:"rgba(34, 34, 34, 0.5)",backdropFilter:"blur(10px)",borderRadius:"20px"},children:[a.jsx("button",{className:"absolute top-0 right-0 mt-4 mr-4 text-white hover:text-gray-300",onClick:t,children:"X"}),s]})}):null}function f({handleSignInClick:e}){let[t,s]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),u=async()=>{let{data:s,error:a}=await (0,x.UC)(t,r,i);a?d("Sign up failed: "+a.message):(e(),d("Sign up successful! Please check your email to confirm your account."))};return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign Up"}),(0,a.jsxs)("p",{className:"text-gray-400 mb-4",children:["Already have an account? ",a.jsx("a",{onClick:e,className:"text-orange-500 cursor-pointer",children:"Login"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",htmlFor:"name",children:"Name"}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded",children:[a.jsx("span",{className:"inline-block px-3 text-gray-400",children:a.jsx("i",{className:"fas fa-user"})}),a.jsx("input",{className:"w-full p-2 bg-gray-700 text-white rounded-r",type:"text",placeholder:"User Name",value:i,onChange:e=>o(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",htmlFor:"email",children:"Email"}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded",children:[a.jsx("span",{className:"inline-block px-3 text-gray-400",children:a.jsx("i",{className:"fas fa-envelope"})}),a.jsx("input",{className:"w-full p-2 bg-gray-700 text-white rounded-r",type:"email",placeholder:"Email",value:t,onChange:e=>s(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded",children:[a.jsx("span",{className:"inline-block px-3 text-gray-400",children:a.jsx("i",{className:"fas fa-lock"})}),a.jsx("input",{className:"w-full p-2 bg-gray-700 text-white rounded-r",type:"password",placeholder:"Password",value:r,onChange:e=>l(e.target.value)})]})]}),a.jsx("button",{className:"w-full py-2 text-white rounded",onClick:u,style:{background:"linear-gradient(90deg, #BF4212, #FFB193)",border:"none",cursor:"pointer"},children:"Sign Up"}),c&&a.jsx("p",{className:"text-white",children:c})]})}function g({isOpen:e,onClose:t,children:s}){return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,a.jsxs)("div",{className:"relative p-6 rounded-lg shadow-lg",style:{border:"2px solid #0ff",boxShadow:"0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff, 0 0 20px #0ff",width:"400px",backgroundColor:"rgba(34, 34, 34, 0.5)",backdropFilter:"blur(10px)",borderRadius:"20px"},children:[a.jsx("button",{className:"absolute top-0 right-0 mt-4 mr-4 text-white hover:text-gray-300",onClick:t,children:"X"}),s]})}):null}let p=function({user:e,signOut:t,onClose:s,onRemoveProfileImage:r}){let l=(e?.user_metadata||e?.payload?.user_metadata||{}).username||"User",[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1);return(0,n.useRef)(null),(0,a.jsxs)("div",{className:"absolute top-16 right-5 mr-10 mt-4 z-50 bg-gray-800 text-white shadow-lg rounded-lg p-5",children:[a.jsx("button",{className:"absolute top-2 right-4 text-gray-200 hover:text-gray-400",onClick:s,children:"\xd7"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center relative",children:[(0,a.jsxs)("div",{className:"relative mt-4 flex items-center justify-center w-16 h-16 bg-gray-500 rounded-full text-white text-2xl cursor-pointer hover:bg-gray-600 hover:shadow-lg transition-transform transform hover:scale-110",tabIndex:"0",onFocus:()=>{d(!0)},onBlur:()=>{setTimeout(()=>d(!1),200)},children:[i?a.jsx("img",{src:i,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):l.charAt(0).toUpperCase(),c&&(0,a.jsxs)("div",{className:"absolute flex space-x-14 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[a.jsx("label",{htmlFor:"profileImageUpload",className:"block py-1 px-4 bg-blue-500 text-white text-xs rounded-full cursor-pointer hover:bg-blue-600",children:"Change"}),a.jsx("button",{className:"block py-1 px-4 bg-red-500 text-white text-xs rounded-full hover:bg-red-600",onClick:()=>{o(null),localStorage.removeItem("profileImage"),r()},children:"Remove"})]})]}),a.jsx("input",{id:"profileImageUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=()=>{let t=e.result;o(t),localStorage.setItem("profileImage",t)},e.readAsDataURL(t)}}}),(0,a.jsxs)("h2",{className:"mt-3 text-lg",children:["Hi, ",l,"!"]})]}),a.jsx("button",{className:"mt-4 w-full py-2 px-4 text-sm text-blue-400 border border-white rounded-full hover:bg-gradient-to-r hover:from-purple-500 hover:to-blue-500 hover:text-white hover:shadow-xl transition-all duration-300",onClick:()=>{},children:"Manage your Account"}),a.jsx("button",{className:"mt-2 w-full py-2 px-4 text-sm text-red-400 bg-gray-950 rounded-full hover:bg-gradient-to-r hover:from-red-500 hover:to-red-700 hover:text-white hover:shadow-xl transition-all duration-300",onClick:()=>{t(),s()},children:"Sign out"})]})};s(3824);var b=s(7611);function j({children:e}){let[t,s]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[d,x]=(0,n.useState)(!1),[j,w]=(0,n.useState)(null),v=()=>{s(!0),c(!1)},N=()=>{c(!0),s(!1)},y=()=>{s(!1)},k=()=>{c(!1)},C=()=>{x(!d)},S=()=>{x(!1)},I=()=>{w(null)};return a.jsx("html",{lang:"en",className:"h-full",children:a.jsx("body",{className:`bg-custom-gradient ${l().className} h-full flex flex-col`,children:a.jsx(i.H,{children:a.jsx(o.d,{children:a.jsx(function({children:e}){let{user:s,loading:l,signOut:o}=(0,i.a)();if(l)return a.jsx(b.Z,{});let c=((s?.user_metadata||s?.payload?.user_metadata||{}).username||"User").charAt(0).toUpperCase();return a.jsx(a.Fragment,{children:a.jsx(n.Suspense,{fallback:a.jsx(b.Z,{}),children:(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[d&&a.jsx(p,{user:s,signOut:o,onClose:S,onRemoveProfileImage:I}),a.jsx("div",{className:"absolute top-5 right-5 mr-5 z-50 flex items-center space-x-4",children:s?a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-500 rounded-full text-white cursor-pointer transition-transform transform hover:scale-110 hover:shadow-lg hover:bg-gray-600",onClick:C,children:j?a.jsx("img",{src:j,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):c}):a.jsx("button",{className:"rounded-lg py-2 px-4 text-white bg-gradient-to-r from-[#3F46FF] to-[#EB3333]",onClick:v,children:"Sign In"})}),a.jsx(h,{isOpen:t,onClose:y,children:a.jsx(m,{handleSignUpClick:N,onClose:y})}),a.jsx(g,{isOpen:r,onClose:k,children:a.jsx(f,{handleSignInClick:v,onClose:k})}),a.jsx(u,{}),e]})})})},{children:e})})})})})}},7611:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(326),r=s(9040);function l(){return a.jsx(r.Z,{})}},8728:(e,t,s)=>{"use strict";s.d(t,{H:()=>o,a:()=>c});var a=s(326),r=s(9484),l=s(5047),n=s(7577);let i=(0,n.createContext)(),o=({children:e})=>{let[t,s]=(0,n.useState)(null),[o,c]=(0,n.useState)(!0),d=(0,l.useRouter)(),u=(0,l.usePathname)();(0,n.useEffect)(()=>{(async()=>{let e=window.location.pathname,t=await fetch(`/api/auth/session?pathname=${e}`),a=await t.json();if(a.user)s(a.user);else{let t=await fetch(`/api/auth/refresh?pathname=${e}`);t.ok?s((await t.json()).user):"/"!==e&&d.push("/")}c(!1)})()},[d,u]);let x=async()=>{let{error:e}=await (0,r.Mx)();e||(s(null),d.push("/"))},m=async(e,t)=>{let{data:a,error:r}=await signInWithEmail(e,t);r||s(a.user)},h=async(e,t,a)=>{let{data:r,error:l}=await signUpNewUser(e,t,a);l||s(r.user)};return a.jsx(i.Provider,{value:{user:t,loading:o,setUser:s,signOut:x,signIn:m,signUp:h},children:e})},c=()=>(0,n.useContext)(i)},2843:(e,t,s)=>{"use strict";s.d(t,{d:()=>n,v:()=>i});var a=s(326),r=s(7577);let l=(0,r.createContext)(),n=({children:e})=>{let[t,s]=(0,r.useState)(null),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1);return a.jsx(l.Provider,{value:{userId:t,imageIds:n,noBgImageIds:o,hasProductIndexes:d,setUserId:s,setImageIds:i,setNoBgImageIds:c,setHasProductIndexes:u},children:e})},i=()=>(0,r.useContext)(l)},3658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/hyungseokcho/ai-video-gen-front/src/app/layout.jsx`),{__esModule:l,$$typeof:n}=r;r.default;let i=(0,a.createProxy)(String.raw`/Users/hyungseokcho/ai-video-gen-front/src/app/layout.jsx#default`)},3840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(9510);function r(){return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"relative w-10 h-10",children:[a.jsx("div",{className:"absolute w-full h-full rounded-full bg-blue-500 opacity-60 animate-ping"}),a.jsx("div",{className:"absolute w-full h-full rounded-full bg-blue-500 opacity-60 animate-ping animation-delay-1000"})]})})}function l(){return a.jsx(r,{})}s(1159)},3824:()=>{}};